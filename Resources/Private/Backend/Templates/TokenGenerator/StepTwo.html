<html xmlns="http://www.w3.org/1999/xhtml" lang="en" data-namespace-typo3-fluid="true"
      xmlns:f="http://xsd.helmut-hummel.de/ns/TYPO3/CMS/Fluid/ViewHelpers">

<f:layout name="Default"/>

<f:section name="main">
    <f:be.container>
        <div class="row m-3">
            <div class="col-12">
                Instagram API-Token Generator
            </div>

            <div class="col-12 col-md-7 col-lg-4">
                <div class="card">
                    <div class="card-header">
                        Schritt 2/3: Auth-Code
                    </div>

                    <div class="card-body">
                        <ol>
                            <li>Diesen Link klicken: <a target="_blank" href="{link}" class="text-primary">{link}</a>
                            </li>
                            <li>Die angeforderten Rechte bestätigen.</li>
                            <li>Anschließend erfolgt eine Weiterleitung auf die angegebene ReturnUrl. In der URL
                                befindet
                                sich der
                                Parameter "code".
                            </li>
                            <li>Diesen Code kopieren und in dem Formular unten eintragen:</li>
                        </ol>

                        <f:form action="stepThree"
                                method="post"
                                enctype="multipart/form-data"
                        >
                            <div class="form-group col-12">
                                <label for="code">
                                    Code*
                                </label>

                                <f:form.textfield name="code"
                                                  value=""
                                                  required="true"
                                                  placeholder="Code"
                                                  class="form-control"
                                />
                            </div>

                            <div class="form-group col-12">
                                <label for="clientid">
                                    Instagram-App-ID*
                                </label>

                                <f:form.textfield name="clientid"
                                                  value="{appId}"
                                                  placeholder="Instagram-App-ID"
                                                  readonly="true"
                                                  class="form-control"
                                />
                            </div>

                            <div class="form-group col-12">
                                <label for="clientsecret">
                                    Instagram App-Geheimcode*
                                </label>

                                <f:form.textfield type="password"
                                                  id="clientsecret"
                                                  name="clientsecret"
                                                  value="{appSecret}"
                                                  readonly="true"
                                                  placeholder="Instagram App-Geheimcode"
                                                  class="form-control"
                                />
                            </div>

                            <div class="form-group col-12">
                                <label for="returnurl">
                                    Gültige OAuth Redirect URI*
                                </label>

                                <f:form.textfield name="returnurl"
                                                  value="{returnUrl}"
                                                  placeholder="Gültige OAuth Redirect URI"
                                                  readonly="true"
                                                  class="form-control"
                                />
                            </div>
                            
                            <f:form.submit value="Request long-lived access token"
                                           class="btn btn-success w-100"
                                />
                        </f:form>
                    </div>
                </div>
            </div>
        </div>
    </f:be.container>
</f:section>

</html>
